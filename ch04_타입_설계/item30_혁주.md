# 문서에 타입 정보를 쓰지 않기

> 다음 코드에서 잘못된 부분을 찾아보세요.

```typescript
/**
 * 전경색(foreground) 문자열을 반환합니다.
 * 0개 또는 1개의 매개변수를 받습니다.
 * 매개변수가 없을 때는 표준 전경색을 반환합니다.
 * 매개변수가 있을 때는 특정 페이지의 전경색을 반환합니다.
 */
function getForegroundColor(page?: string) {
  return page === 'login' ? { r: 127, g: 127, b: 127 } : { r: 0, g: 0, b: 0 };
}
```

코드와 주석의 정보가 맞지 않습니다. 둘 중에 뭐가 맞는지 판단하기에는 정보가 부족합니다.
앞의 예제에서 의도된 동작이 코드에 제대로 반영되고 있다고 가정하면, 주석에는 세 가지 문제점이 있습니다.

1. 전경색의 문자열을 반환한다고 했는데 실제로는 `{r,g,b}` 객체를 반환합니다.
2. 주석에는 함수가 0개 또는 1개의 매개변수를 받는다고 설명하고 있지만 타입 시그니처만 봐도 명확히 알 수 있는 부분입니다.
3. 불필요하게 장황합니다(코드보다 주석이 더 깁니다).

함수의 입력과 출력의 타입을 **코드로 표현하는 것**이 주석보다 더 나은 방법입니다.

- TS의 타입 구문 시스템은 간결하고, 구체적이며, 쉽게 읽을 수 있도록 설계되었습니다.
- 타입 구문은 타입스크립트 컴파일러가 체크해주기 때문에 절대로 구현체와의 정합성이 어긋나지 않습니다.
  - getForegroundColor 함수는 과거에 문자열을 반환했지만 추후에 객체를 반환하도록 변경되었나 봅니다. 그리고 주석 수정을 깜빡했겠죠?

## 올바른 주석 사용법

</br>

1.  구현체가 변경되어도 바뀌지 않을 포괄적인 주석을 사용하는 방법

    ```typescript
    /** 애플리케이션 또는 특정 페이지의 전경색을 가져옵니다. */
    function getForegroundColor(page?: string): Color {
      /* ... */
    }
    ```

2.  JSDoc을 활용하는 방법

    - `@param` 구문을 사용하면 됩니다. (-> 아이템 48)

    </br>

3.  readonly를 활용하는 방법

    다음과 같이 값이나 매개변수를 변경하지 않는다고 설명하는 주석도 좋지 않습니다.

    ```typescript
    /** nums를 변경하지 않습니다. */
    function sort(nums: number[]) {
      /* ... */
    }
    ```

    그 대신 **readonly**로 선언하여 TS가 규칙을 강제할 수 있게 하면 됩니다.

    ```typescript
    function sort(nums: readonly number[]) {
      /* ... */
    }
    ```

## 변수명 규칙

</br>

주석에 적용한 규칙은 변수명에도 그대로 적용할 수 있습니다. 변수명에 타입 정보를 넣지 않도록 합니다.

- 변수명을 `ageNum`으로 하는 것보다는 `age`로 하고 그 타입이 `number`임을 명시하는게 더 좋습니다.

그러나 단위가 있는 숫자들은 예외!

- `timeMS`는 `time`보다 훨씬 명확합니다.
- `temperatureC`는 `temperature`보다 훨씬 명확합니다.

## 요약

- 주석과 변수명에 타입 정보를 적는 것은 피해야 합니다.
  - 타입 선언이 중복되는 것으로 끝나면 다행이지만 최악의 경우 타입 정보에 모순이 발생하게 됩니다.
- 타입이 명확하지 않은 경우는 변수명에 타입 정보를 포함하는 것이 좋습니다.
